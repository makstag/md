#vscode
## Windows установка
[официальный гайд](https://code.visualstudio.com/docs/cpp/config-mingw)
[stackowerflow Как настроить Visual Studio Code на работу с С++?](https://ru.stackoverflow.com/questions/1172843/%D0%9A%D0%B0%D0%BA-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C-visual-studio-code-%D0%BD%D0%B0-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%83-%D1%81-%D0%A1)
[metanit гайд по установке g++ и gdb на Windows](https://metanit.com/cpp/tutorial/1.2.php)

0. [Устанавливаем msys2](https://www.msys2.org/).  Например по пути `C:/Programs/msys64`. После завершения установки запустится консольное приложение `MSYS2.exe`. Если по каким-то причинам оно не запустилось, то в папке установки `C:/msys64` надо найти файл usrt_64.exe.

2. Устанавливаем компилятор и дебаггер. Выполяем в окне MSYS2 следующие команды:
```C++
pacman -Syuu
```
Эта команда обновляет msys2. Она может закрыть консоль - это нормально, нужно перезапустить ее и ввести ту же команду, чтобы завершить обновление. Хорошей идеей будет время от времени обновляться, чтобы всегда иметь последнюю версию компилятора.
```C++
pacman -S mingw-w64-ucrt-x86_64-gcc
pacman -S mingw-w64-ucrt-x86_64-gdb
```

3. Настроим путь к компилятору в `Переменных среды` Для этого можно в окне поиска в Windows ввести "изменение переменных среды текущего пользователя":
![[vscode1.png]]
Нам откроется окно Переменных среды:
![[vscode2.png]]
И добавим путь к компилятору `C:/msys64/ucrt64/bin`:
![[vscode3.png]]
Теперь в Вашей системе есть компилятор и дебаггер. Проверить это просто: открываем новое окно консоли, пишем `g++ --version`
![[vscode4.png]]

4. [Скачиваем с официального сайта](https://cmake.org/download/) и устанавливаем cmake. Проверяем корректность установки командой `cmake --version`

***
## Linux установка
#todo

***
## .vscode

#### tasks.json
#taskjson 

Так можно создавать новые таски для cmake и gcc:
```console
Ctrl+Shift+P -> Tasks: Configure Default Build Task -> CMake: build
Ctrl+Shift+P -> Tasks: Configure Default Build Task -> C/C++ gcc.exe build active file
```

> [!INFO]
> тег "presentation" в tasks.json позволяет очищать окно терминала перед каждым билдом - полезно, чтобы уже не видеть уже исправленных ошибок, оставшихся от предыдущей попытки сборки ([Источник](https://stackoverflow.com/questions/46221272/)):

Файл **tasks.json** - отвечает за то, чтобы работала комбинация клавиш Ctrl+shift+B для сборки программы.:
```json
{
    "tasks": [
        // Linux gcc
        {
            "type": "cppbuild",
            "label": "C/C++: gcc build active file",
            "command": "/usr/bin/gcc",
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                "${file}",
                "-o",
                "${fileDirname}/${fileBasenameNoExtension}"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": "build",
            "detail": "Task generated by Debugger."
        },
        // Windows gcc
        {
            "type": "cppbuild",
            "label": "g++",
            "command": "C:\\msys64\\mingw64\\bin\\g++.exe",
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                "${file}",
                "-o",
                "${fileDirname}\\..\\build\\${fileBasenameNoExtension}.exe"
            ],
            "options": {
                "cwd": "C:\\msys64\\mingw64\\bin"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger.",
            "presentation": {
                "clear": true
            }
        },
        // Windows cmake
        {
            "type": "cmake",
            "label": "CMake: build",
            "command": "build",
            "targets": [
                "parser",
                "bin_yaml_creater"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": [],
            "detail": "CMake template build task",
            "presentation": {
                "clear": true
            }
        }
    ],
    "version": "2.0.0"
}
```
#### launch.json
#launchjson
Файл **launch.json** - отвечает за работу дебаггера (F5):
```json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "debug current file",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}\\build\\${fileBasenameNoExtension}.exe",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "miDebuggerPath": "C:\\msys64\\ucrt64\\bin\\gdb.exe",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
    ]
}
```

#### settings.json
#settingsjson
Файл **settings.json** - как то отвечает за файловые ассоциации, возможно даже, что он не особо нужен. Пример:
```json
    {
        "files.associations": {
            "ostream": "cpp",
            "iostream": "cpp",
            "iomanip": "cpp",
            "chrono": "cpp",
            "iosfwd": "cpp",
            "thread": "cpp",
            "array": "cpp",
            "string_view": "cpp",
            "initializer_list": "cpp",
            "utility": "cpp",
            "valarray": "cpp",
            "optional": "cpp",
            "sstream": "cpp"
        }
    }
```

#### c_cpp_properties.json
#c_cpp_propertiesjson
Файл **c_cpp_properties.json** - отвечает за расположение include - файлов:
```json
    {
        "configurations": [
            {
                "name": "Win32",
                "includePath": [
                    "${workspaceFolder}/**", 
                    "C:/Programs/msys64/mingw64/include/**"
                ],
                "defines": [
                    "_DEBUG",
                    "UNICODE",
                    "_UNICODE"
                ],
                "windowsSdkVersion": "8.1",
                "compilerPath": "C:\\Programs\\msys64\\mingw64\\bin\\g++.exe",
                "cStandard": "c11",
                "cppStandard": "c++17",
                "intelliSenseMode": "gcc-x86"
            }
        ],
        "version": 4
    }
```
